[
  {
    "objectID": "ProviderLocations.html",
    "href": "ProviderLocations.html",
    "title": "",
    "section": "",
    "text": "&lt;!DOCTYPE qgis PUBLIC ‘http://mrcc.com/qgis.dtd’ ‘SYSTEM’&gt;     \n\n\n                  0 0     false"
  },
  {
    "objectID": "HTWFFPProvidersPerK.html",
    "href": "HTWFFPProvidersPerK.html",
    "title": "",
    "section": "",
    "text": "&lt;!DOCTYPE qgis PUBLIC ‘http://mrcc.com/qgis.dtd’ ‘SYSTEM’&gt;     \n\n\n                  0 0     false"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n\n[1] 2"
  },
  {
    "objectID": "closeread-test.html",
    "href": "closeread-test.html",
    "title": "Closeread Test",
    "section": "",
    "text": "Left side text.\n\n\n\n\n\n\nThis is a test triger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate. This is a test trigger.\nScroll to activate."
  },
  {
    "objectID": "index.html#mobile-womens-health-clinics-in-texas",
    "href": "index.html#mobile-womens-health-clinics-in-texas",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "MOBILE WOMEN’S HEALTH CLINICS IN TEXAS",
    "text": "MOBILE WOMEN’S HEALTH CLINICS IN TEXAS\n\nSection 1: Highlighting Need\nAcross the 268,597 square miles of Texas, access to women’s healthcare is deeply uneven. Large regions of the state function as “healthcare deserts,” where high- population communities have few or sometimes no access to nearby clinics providing essential services like contraception, cancer screenings, and preventive care. Many rural Texans face long travel distances, limited transportation options, and months-long wait times.\n\n\n\n\n\nThese barriers make timely, comprehensive healthcare out of reach for many, underscoring the urgent need for solutions that meet people where they are.\n\n\n\n\nThat’s where mobile health care units come in.\n\n\n\n\nUse the bar on the left to scroll through this story\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\nSection 2: Health Outcomes.\n\n\n\n\nLearn more.\n\n\n\n\nThis is quite important here!\n\n\n\n\n\n\nThe impact on women’s health has been\nespecially severe. Nearly half of\nTexas counties (46.5%) are classified as\nmaternity care deserts,\nmeaning they lack access to\nbirthing facilities\nor maternity care providers altogether.\nFor thousands of women, even basic\npregnancy care requires\ntraveling far from home,\n4.6% of Texas women live\nmore than 30 minutes from\nthe nearest birthing hospital."
  },
  {
    "objectID": "Test animation.html",
    "href": "Test animation.html",
    "title": "Minimal Closeread + Leaflet (JS toggled layers)",
    "section": "",
    "text": "Scroll down. When the Layer A target is in view, the map shows Layer A.\nWhen the Layer B target is in view, the map switches to Layer B.\n\n\n\n\n\n\n\nThis text block is the trigger for Layer A.\n\n\n\n\n\n\n\nThis text block is the trigger for Layer B.\n\n\n\n\n\n\n\n\n\n\n\n\nlibrary(sf)\nlibrary(leaflet)\nlibrary(htmlwidgets)\n\n# --- Self-contained geometry: a 2x2 grid of squares ---\nbbox &lt;- st_as_sfc(st_bbox(c(xmin = -100, ymin = 30, xmax = -98, ymax = 32), crs = 4326))\ngrid &lt;- st_make_grid(bbox, n = c(2, 2)) |&gt; st_sf(geometry = _)\n\n# Two variables\ngrid$val_a &lt;- c(1, 2, 3, 4)\ngrid$val_b &lt;- c(4, 3, 2, 1)\n\npal_a &lt;- colorNumeric(c(\"#E6D9E4\", \"#53284F\"), domain = grid$val_a)\npal_b &lt;- colorNumeric(c(\"#E6D9E4\", \"#53284F\"), domain = grid$val_b)\n\nm &lt;- leaflet(width = \"100%\", height = 600) |&gt;\n  addTiles() |&gt;\n  fitBounds(lng1 = -100, lat1 = 30, lng2 = -98, lat2 = 32) |&gt;\n\n  # Layer A polygons + legend\n  addPolygons(\n    data = grid,\n    group = \"Layer A\",\n    fillColor = ~pal_a(val_a),\n    weight = 2, color = \"white\", fillOpacity = 1,\n    highlightOptions = highlightOptions(weight = 5, color = \"#D24699\", opacity = 1, bringToFront = TRUE),\n    label = ~paste0(\"Layer A value: \", val_a)\n  ) |&gt;\n  addLegend(\n    pal = pal_a, values = grid$val_a, title = \"Layer A legend\",\n    group = \"Layer A\", opacity = 1\n  ) |&gt;\n\n  # Layer B polygons + legend\n  addPolygons(\n    data = grid,\n    group = \"Layer B\",\n    fillColor = ~pal_b(val_b),\n    weight = 2, color = \"white\", fillOpacity = 1,\n    highlightOptions = highlightOptions(weight = 5, color = \"#D24699\", opacity = 1, bringToFront = TRUE),\n    label = ~paste0(\"Layer B value: \", val_b)\n  ) |&gt;\n  addLegend(\n    pal = pal_b, values = grid$val_b, title = \"Layer B legend\",\n    group = \"Layer B\", opacity = 1\n  ) |&gt;\n  hideGroup(\"Layer B\")\n\n# Expose the Leaflet map object so the script can call layerManager.showGroup/hideGroup\nm &lt;- onRender(m, \"\nfunction(el, x){\n  window._txMap = this;\n}\n\")\n\nm"
  },
  {
    "objectID": "Test Map Layers Trigger.html",
    "href": "Test Map Layers Trigger.html",
    "title": "",
    "section": "",
    "text": "library(leaflet) library(htmlwidgets)\nm &lt;- leaflet(options = leafletOptions(zoomControl = FALSE)) |&gt; addProviderTiles(providers\\(CartoDB.Positron, group = \"Base: Light\") |&gt;\n  addProviderTiles(providers\\)Esri.WorldImagery, group = “Base: Imagery”) |&gt; addCircleMarkers( lng = c(-99.1332), lat = c(31.9686), radius = 12, fillOpacity = 0.9, group = “Overlay: Dots” ) |&gt; addPolylines( lng = c(-106.4850, -97.7431), lat = c(31.7619, 30.2672), weight = 4, group = “Overlay: Routes” ) |&gt; hideGroup(“Base: Imagery”) |&gt; hideGroup(“Overlay: Routes”) |&gt; addLayersControl( baseGroups = c(“Base: Light”, “Base: Imagery”), overlayGroups = c(“Overlay: Dots”, “Overlay: Routes”), options = layersControlOptions(collapsed = TRUE) ) |&gt; onRender(” function(el, x) { // expose the map + the layer groups so OJS can toggle them window.__cr_leaflet_map__ = this;\n  window.__cr_leaflet_groups__ = {\n    light:  this.layerManager.getLayerGroup('Base: Light'),\n    img:    this.layerManager.getLayerGroup('Base: Imagery'),\n    dots:   this.layerManager.getLayerGroup('Overlay: Dots'),\n    routes: this.layerManager.getLayerGroup('Overlay: Routes')\n  };\n}\n“)\nm"
  },
  {
    "objectID": "index.html#map-population",
    "href": "index.html#map-population",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "Trigger: Population Need",
    "text": "Trigger: Population Need"
  },
  {
    "objectID": "index.html#map-providers",
    "href": "index.html#map-providers",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "Trigger: Provider Availability",
    "text": "Trigger: Provider Availability"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Layer A (radio)\n\n\n\n\nLayer B (radio)\n\n\n\n\n\n\n\n\n\nLinking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE\n\n\n\n\n\n\n\n\n\n\n\n{\n// Helper: wait until the map + layers control exist\nasync function waitFor(selector) {\n  while (!document.querySelector(selector)) {\n    await new Promise(requestAnimationFrame);\n  }\n  return document.querySelector(selector);\n}\n\n// Click a base-layer radio by label text (\"Layer A\", \"Layer B\")\nasync function setBaseLayerByName(mapId, name) {\n  const root = await waitFor(`#${mapId}`);\n  // Leaflet control container for layers (radio/checkboxes)\n  const ctl = root.querySelector(\".leaflet-control-layers\");\n  if (!ctl) return;\n\n  // Find the label containing the name and click its input\n  const labels = Array.from(ctl.querySelectorAll(\"label\"));\n  const hit = labels.find(l =&gt; (l.textContent || \"\").trim().includes(name));\n  if (!hit) return;\n\n  const input = hit.querySelector(\"input\");\n  if (input && !input.checked) input.click();\n}\n\n// Expose controller\nglobalThis.setTestLayer = async (step) =&gt; {\n  const s = Number(step ?? 0);\n  if (s === 0) await setBaseLayerByName(\"test_map\", \"Layer A\");\n  if (s === 1) await setBaseLayerByName(\"test_map\", \"Layer B\");\n};\n\n// Initial state\nawait globalThis.setTestLayer(0);\nnull\n}\n\n\n\n\n\n\n\n{\n// Closeread -&gt; controller\nif (typeof crTriggerIndex !== \"undefined\" && typeof globalThis.setTestLayer === \"function\") {\n  await globalThis.setTestLayer(crTriggerIndex);\n}\nnull\n}"
  },
  {
    "objectID": "index.html#section-layer-switching-test",
    "href": "index.html#section-layer-switching-test",
    "title": "Leaflet + Closeread + OJS (Self-contained test)",
    "section": "",
    "text": "Step 1: Show Layer A (purple scale).\n\n\n\n\nStep 2: Show Layer B (green scale).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{\n  // Switch Leaflet base layers by clicking the layer control's radio inputs.\n  // This avoids touching Leaflet internal layer managers.\n  const mapId = \"test_map\";\n\n  const waitFor = async (sel) =&gt; {\n    while (!document.querySelector(sel)) {\n      await new Promise(r =&gt; requestAnimationFrame(r));\n    }\n    return document.querySelector(sel);\n  };\n\n  const root = await waitFor(`#${mapId}`);\n  await waitFor(`#${mapId} .leaflet-control-layers`);\n\n  const control = root.querySelector(\".leaflet-control-layers\");\n  const baseLabels = Array.from(\n    control.querySelectorAll(\".leaflet-control-layers-base label\")\n  );\n\n  const textOf = (label) =&gt; (label.textContent || \"\").replace(/\\s+/g, \" \").trim();\n\n  const setBase = (name) =&gt; {\n    const lab = baseLabels.find(l =&gt; textOf(l) === name);\n    if (!lab) return false;\n    const input = lab.querySelector(\"input\");\n    if (input && !input.checked) input.click();\n    return true;\n  };\n\n  const showLegend = (cls) =&gt; {\n    const el = root.querySelector(cls);\n    if (el) el.style.display = \"\";\n  };\n  const hideLegend = (cls) =&gt; {\n    const el = root.querySelector(cls);\n    if (el) el.style.display = \"none\";\n  };\n\n  globalThis.testController = (step) =&gt; {\n    step = Number(step ?? 0);\n\n    // default hide both legends\n    hideLegend(\".legend-a\");\n    hideLegend(\".legend-b\");\n\n    if (step === 0) {\n      setBase(\"Layer A\");\n      showLegend(\".legend-a\");\n    } else if (step === 1) {\n      setBase(\"Layer B\");\n      showLegend(\".legend-b\");\n    } else {\n      setBase(\"Layer A\");\n      showLegend(\".legend-a\");\n    }\n  };\n\n  // initial\n  globalThis.testController(0);\n  null\n}\n\n\n\n\n\n\n\n{\n  // Connect closeread scrolling to the controller\n  if (typeof crTriggerIndex === \"undefined\") return null;\n  if (typeof globalThis.testController !== \"function\") return null;\n\n  globalThis.testController(crTriggerIndex);\n  null\n}"
  },
  {
    "objectID": "index.html#section-test-map-layer-switching",
    "href": "index.html#section-test-map-layer-switching",
    "title": "",
    "section": "",
    "text": "Layer A (radio)\n\n\n\n\nLayer B (radio)\n\n\n\n\n\n\n\n\n\nLinking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE\n\n\n\n\n\n\n\n\n\n\n\n{\n// Helper: wait until the map + layers control exist\nasync function waitFor(selector) {\n  while (!document.querySelector(selector)) {\n    await new Promise(requestAnimationFrame);\n  }\n  return document.querySelector(selector);\n}\n\n// Click a base-layer radio by label text (\"Layer A\", \"Layer B\")\nasync function setBaseLayerByName(mapId, name) {\n  const root = await waitFor(`#${mapId}`);\n  // Leaflet control container for layers (radio/checkboxes)\n  const ctl = root.querySelector(\".leaflet-control-layers\");\n  if (!ctl) return;\n\n  // Find the label containing the name and click its input\n  const labels = Array.from(ctl.querySelectorAll(\"label\"));\n  const hit = labels.find(l =&gt; (l.textContent || \"\").trim().includes(name));\n  if (!hit) return;\n\n  const input = hit.querySelector(\"input\");\n  if (input && !input.checked) input.click();\n}\n\n// Expose controller\nglobalThis.setTestLayer = async (step) =&gt; {\n  const s = Number(step ?? 0);\n  if (s === 0) await setBaseLayerByName(\"test_map\", \"Layer A\");\n  if (s === 1) await setBaseLayerByName(\"test_map\", \"Layer B\");\n};\n\n// Initial state\nawait globalThis.setTestLayer(0);\nnull\n}\n\n\n\n\n\n\n\n{\n// Closeread -&gt; controller\nif (typeof crTriggerIndex !== \"undefined\" && typeof globalThis.setTestLayer === \"function\") {\n  await globalThis.setTestLayer(crTriggerIndex);\n}\nnull\n}"
  },
  {
    "objectID": "index.html#section-test-map-switching",
    "href": "index.html#section-test-map-switching",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "Section: Test map switching",
    "text": "Section: Test map switching\n\n\n\n\nPopulation.\n\n\n\n\nProviders per 1,000.\n\n\n\n\nFPP Providers.\n\n\n\n\nHTW Providers.\n\n\n\n\n\n\n\n\nLinking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE\n\n\n\n\n\n\n\n\n\n\n\n{\n  const mapId = \"test_map\";\n\n  // Base layers = radios in addLayersControl(baseGroups=...)\n  const baseLabels = [\n    \"Population\",\n    \"Total Providers per 1,000 Women 15-49\"\n  ];\n\n  // Overlays = checkboxes in addLayersControl(overlayGroups=...)\n  const overlayLabels = [\n    \"FPP Providers\",\n    \"HTW Providers\"\n  ];\n\n  const sleep = (ms) =&gt; new Promise(r =&gt; setTimeout(r, ms));\n\n  function getLeafletMap() {\n    const sel = `#${mapId}`;\n    try {\n      const w = globalThis.HTMLWidgets?.find?.(sel);\n      if (w?.getMap) return w.getMap();\n    } catch (e) {}\n    try {\n      const w2 = globalThis.HTMLWidgets?.find?.(mapId);\n      if (w2?.getMap) return w2.getMap();\n    } catch (e) {}\n    return null;\n  }\n\n  function getLayerControlRoot() {\n    const el = document.getElementById(mapId);\n    return el ? el.querySelector(\".leaflet-control-layers\") : null;\n  }\n\n  function getTriggersForSection() {\n    const mapEl = document.getElementById(mapId);\n    if (!mapEl) return [];\n    const section = mapEl.closest(\".cr-section\") || document;\n    return Array.from(section.querySelectorAll(\".narrative-col .trigger\"));\n  }\n\n  function activeTriggerIndex() {\n    const triggers = getTriggersForSection();\n    if (!triggers.length) return 0;\n\n    const vc = window.innerHeight / 2;\n    let bestIdx = 0;\n    let bestDist = Infinity;\n\n    for (let i = 0; i &lt; triggers.length; i++) {\n      const r = triggers[i].getBoundingClientRect();\n      const c = (r.top + r.bottom) / 2;\n      const d = Math.abs(c - vc);\n      if (d &lt; bestDist) {\n        bestDist = d;\n        bestIdx = i;\n      }\n    }\n    return Math.max(0, Math.min(3, bestIdx)); // 4 steps\n  }\n\n  async function clickRadioByLabel(label) {\n    const control = getLayerControlRoot();\n    if (!control) return;\n\n    const all = Array.from(control.querySelectorAll(\"label\"));\n    const target = all.find(l =&gt; (l.textContent || \"\").trim() === label);\n    if (!target) return;\n\n    const input = target.querySelector(\"input[type='radio']\");\n    if (input && !input.checked) input.click();\n  }\n\n  async function setOverlays({ fpp = false, htw = false }) {\n    const map = getLeafletMap();\n    if (!map) return;\n\n    // enforce exclusivity between the two overlays\n    try { map.hideGroup(\"FPP Providers\"); } catch (e) {}\n    try { map.hideGroup(\"HTW Providers\"); } catch (e) {}\n\n    if (fpp) {\n      try { map.showGroup(\"FPP Providers\"); } catch (e) {}\n    }\n    if (htw) {\n      try { map.showGroup(\"HTW Providers\"); } catch (e) {}\n    }\n  }\n\n  async function applyStep(step) {\n    // Step plan:\n    // 0: Population, overlays off\n    // 1: Providers per 1,000, overlays off\n    // 2: Providers per 1,000, FPP on\n    // 3: Providers per 1,000, HTW on\n    if (step === 0) {\n      await clickRadioByLabel(baseLabels[0]);\n      await setOverlays({ fpp: false, htw: false });\n    } else if (step === 1) {\n      await clickRadioByLabel(baseLabels[1]);\n      await setOverlays({ fpp: false, htw: false });\n    } else if (step === 2) {\n      await clickRadioByLabel(baseLabels[1]);\n      await setOverlays({ fpp: true, htw: false });\n    } else if (step === 3) {\n      await clickRadioByLabel(baseLabels[1]);\n      await setOverlays({ fpp: false, htw: true });\n    }\n  }\n\n  async function install() {\n    // Wait for map + layer control\n    for (let i = 0; i &lt; 120; i++) {\n      if (getLeafletMap() && getLayerControlRoot()) break;\n      await sleep(50);\n    }\n\n    const key = \"__crStepSwitchInstalled\";\n    if (globalThis[key]) return null;\n    globalThis[key] = true;\n\n    let lastStep = -1;\n    let ticking = false;\n\n    const update = async () =&gt; {\n      ticking = false;\n      const step = activeTriggerIndex();\n      if (step === lastStep) return;\n      lastStep = step;\n      await applyStep(step);\n    };\n\n    const onScroll = () =&gt; {\n      if (ticking) return;\n      ticking = true;\n      requestAnimationFrame(update);\n    };\n\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    window.addEventListener(\"resize\", onScroll, { passive: true });\n\n    // Watch trigger class/style changes (closeread sometimes updates without real scroll)\n    const triggers = getTriggersForSection();\n    if (triggers.length) {\n      const obs = new MutationObserver(onScroll);\n      for (const t of triggers) obs.observe(t, { attributes: true, attributeFilter: [\"class\", \"style\"] });\n    }\n\n    // Initial\n    await update();\n    return null;\n  }\n\n  await install();\n  null\n}\n\n\n\n\n\n\n\nSection 4: Introduce the concept of mobile clinics\nMobile healthcare units are designed to close gaps by bringing services directly to patients and communities, especially in rural areas. Mobile clinics reduce the distance, time, and cost barriers that prevent many women from accessing care. Mobile clinics set up in trusted community spaces and adapt their routes based on need. They offer a flexible, efficient way to deliver essential women’s health services, such as birth control, cancer screenings, prenatal care, and preventive visits. For women who don’t have reliable access to transportation, mobile clinics can be a literal lifeline. When speaking to patients, they praise the convenience, as they are no longer required to travel hours from home, miss work, school, or childcare. Mobile clinics don’t just expand access; they help ensure care happens earlier, more consistently, and on patients’ terms.\n\n\nSection 5: Legislation\n\n\n\nDuring the 89th Legislative Session, the Texas Women’s Healthcare Coalition and its partners secured $20 million in new state funding to expand mobile women’s health units across Texas, doubling down on a commitment to meet women where they are. This investment represents $10 million more than the amount secured in 2023, signaling growing legislative recognition of mobile healthcare as a critical solution to access gaps. This funding is the direct result of sustained, collective advocacy and a willingness by providers to find innovative solutions to reach the counties around them.\n\n\nSection 6: On the road\nA single mobile health unit can extend care across multiple counties that aren’t served by brick-and-mortar clinics. This map illustrates how mobile units move across regions with limited or no permanent healthcare infrastructures, reaching women who would otherwise face transportation barriers, or even no access at all.\n\n\nSection 7: On the ground\n\n\n\n\n\n  \n  \n\n\n\n\n\n\n\n\nLearn more.\n\n\n\n\nScroll on.\n\n\n\n\n\n\n“Now we’re able to do a full clinic, just like a brick-and-mortar clinic, just on wheels.”\n— Dr. Perales, DNP, APRN, CNS-BC\nClinic Service Director, STFPHC"
  },
  {
    "objectID": "index.html#mobile-womens-health-clinics-in-texas-1",
    "href": "index.html#mobile-womens-health-clinics-in-texas-1",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "MOBILE WOMEN’S HEALTH CLINICS IN TEXAS",
    "text": "MOBILE WOMEN’S HEALTH CLINICS IN TEXAS"
  },
  {
    "objectID": "index.html#section-test-map-switching-1",
    "href": "index.html#section-test-map-switching-1",
    "title": "THE GEOGRAPHY OF HEALTHCARE",
    "section": "Section: Test map switching",
    "text": "Section: Test map switching"
  }
]